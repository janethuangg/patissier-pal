{%extends 'layout.html' %}

{% block body %}
<style>
    ul.ingred {
    display: -ms-flexbox;           /* IE 10 */
    display: -webkit-flex;          /* Safari 6.1+. iOS 7.1+ */
    display: flex;
    -webkit-flex-flow: wrap column; /* Safari 6.1+ */
    flex-flow: wrap column;
    max-height: 150px;      
    }
    .row{
        background-color: white;
        border-radius:30px;
        border:2px solid white;
        margin-top: 20px;
        margin-bottom: 20px;
        padding: 20px 10px 15px 10px;
    }

    body{
        background-color: wheat;
    }

    h4{
        color: #d1a923;
        margin-bottom: 5px;
        display: inline-block;
    }

    h2{
        color:#d1a923;
        text-shadow: 2px 2px white;
    }

    h3{
        color:#d1a923;
        text-align: center;
        margin-bottom: 30px;
        /* display:block; */
    }

</style>

<div class="container">
    <h2>Compiled Ingredient List</h2>
    <div class="row">
        <div class="col">
            <!-- <h3>Compiled Ingredient List</h3> -->

            <ul class="list-group">
                {% for ingredient in compiled %}
                    <li class="list-group-item">{{ingredient}} -                         
                        {% for unit in compiled[ingredient] %}
                            {{compiled[ingredient][unit]}}{{unit}}
                            {% if not loop.last %}
                            +
                            {% endif %}
                        {% endfor %}
                    </li>    
                {% endfor %}
            <ul>
        </div>
    </div>
    
    
    <h2 style="margin-top: 50px;">Final YouTube Videos</h2>

        <div class="row">
            <!-- <div class="col-12"> <h3>Final YouTube Videos</h3></div> -->
            
            {% for recipe in recipes %}
            <div class="col-4">
                <iframe width="333" height="200" src="https://www.youtube.com/embed/{{recipe.id}}" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
            </div>
            <div class="col-8">
                <h4>{{recipe.title}}</h4>
                <ul class="ingred">
                    {% for ingredient in recipe.ingredientDetails %}
                        <li>{{ingredient}} -                         
                            {% for unit in recipe.ingredientDetails[ingredient] %}
                                {{recipe.ingredientDetails[ingredient][unit]}}{{unit}}
                                {% if not loop.last %}
                                +
                                {% endif %}
                            {% endfor %}
                        </li>    
                    {% endfor %}
                <ul>
            </div>
            {% if not loop.last %}
                <div class="col-12"><hr width="100%" style="margin-top:10px;"></div>
            {% endif %}
            {% endfor %}
        </div>
        <br>
    
    
    <!-- <ul>
    {% for recipe in recipes %}
        <li><a href="https://www.youtube.com/embed/{{recipe.id}}">{{recipe.title}}</a></li> 
    {% endfor %}
    </ul> -->
</div>

{% endblock %}