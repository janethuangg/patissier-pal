{%extends 'layout.html' %}

{% block body %}
    <h2>Compiled Ingredient List</h2>
    
    <div class="row">
        <div class="col">
            <ul class="list-group">
                {% for ingredient in compiled %}
                    <li class="list-group-item">{{ingredient}} -                         
                        {% for unit in compiled[ingredient] %}
                            {{compiled[ingredient][unit]}}{{unit}}
                            {% if not loop.last %}
                            +
                            {% endif %}
                        {% endfor %}
                    </li>    
                {% endfor %}
            <ul>
        </div>
    </div>
    
    <h2 style="margin-top: 50px;">Final YouTube Videos</h2>

    <div class="row">            
        {% for recipe in recipes %}
        <div class="col-4">
            <iframe width="333" height="200" src="https://www.youtube.com/embed/{{recipe.id}}" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
        </div>
        <div class="col-8">
            <h4>{{recipe.title}}</h4>
            <ul class="recipe">
                {% for ingredient in recipe.ingredientDetails %}
                    <li>{{ingredient}} -                         
                        {% for unit in recipe.ingredientDetails[ingredient] %}
                            {{recipe.ingredientDetails[ingredient][unit]}}{{unit}}
                            {% if not loop.last %}
                            +
                            {% endif %}
                        {% endfor %}
                    </li>    
                {% endfor %}
            <ul>
        </div>
        {% if not loop.last %}
            <div class="col-12"><hr width="100%" style="margin-top:10px;"></div>
        {% endif %}
        {% endfor %}
    </div>
    <br>
{% endblock %}